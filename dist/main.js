(()=>{"use strict";function e({timing:e,draw:t,duration:o}){let l=performance.now();requestAnimationFrame((function a(n){let s=(n-l)/o;s>1&&(s=1);let c=e(s);t(c),s<1&&requestAnimationFrame(a)}))}(e=>{const t=document.querySelectorAll(".count_1 span"),o=document.querySelectorAll(".count_2 span"),l=document.querySelectorAll(".count_3 span"),a=document.querySelectorAll(".count_4 span"),n=e=>(e<=9&&(e="0"+e),e),s=()=>{let e=(()=>{const e=(new Date).getTime(),t=new Date("30 december 2021").getTime()-e;return{days:Math.floor(t/1e3/60/60%24),hours:Math.floor(t/1e3/60/60%60),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60),remainedSeconds:t}})(),c=e.days,r=e.hours,d=e.minutes,i=e.seconds;t.forEach((e=>{e.textContent=n(c)})),o.forEach((e=>{e.textContent=n(r)})),l.forEach((e=>{e.textContent=n(d)})),a.forEach((e=>{e.textContent=n(i)})),setInterval(s,1e3),e.remainedSeconds<=0&&(clearInterval(s),t.forEach((e=>{e.textContent="00"})),o.forEach((e=>{e.textContent="00"})),l.forEach((e=>{e.textContent="00"})),a.forEach((e=>{e.textContent="00"})))};s()})(),(()=>{const t=document.querySelector(".header-modal"),o=document.querySelector(".overlay"),l=document.querySelector("#header .button");let a=document.querySelectorAll(".header-modal__close, .services-modal__close");const n=document.querySelector(".services-modal"),s=document.querySelectorAll(".service-button"),c=document.querySelectorAll(".sertificate-document"),r=e=>{e.classList.contains("fadeOutLeftBig")?e.classList.remove("fadeOutLeftBig"):o.classList.contains("fadeOut")&&o.classList.remove("fadeOut"),e.classList.add("animated","fadeInLeftBig"),e.style.display="flex",o.classList.add("animated","fadeIn"),o.style.display="flex"},d=()=>{let e=document.querySelector(".fadeInLeftBig");console.log(e),e.classList.remove("fadeInLeftBig"),o.classList.remove("fadeIn"),e.classList.add("fadeOutLeftBig"),o.classList.add("fadeOut"),o.style.display=""};l.addEventListener("click",(()=>{e({duration:200,timing:e=>e,draw(e){r(t)}}),a=document.querySelectorAll(".header-modal__close, .services-modal__close")})),s.forEach((t=>{t.addEventListener("click",(()=>{e({duration:200,timing:e=>e,draw(e){r(n)}}),a=document.querySelectorAll(".header-modal__close, .services-modal__close")}))})),c.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),(e=>{let t=e;console.log(t);let o=document.createElement("div");o.classList.add("modal-cert"),o.innerHTML=`<img src="${t}"> <span title="Close" class="header-modal__close">x</span>`,document.body.append(o),r(o),a=document.querySelectorAll(".header-modal__close, .services-modal__close"),a.forEach((e=>{e.addEventListener("click",(()=>{d()}))}))})(e.getAttribute("href"))}))})),a.forEach((e=>{e.addEventListener("click",(()=>{d()}))}))})(),document.querySelectorAll(".sertificate-document").forEach((t=>{const o=t.querySelector("img"),l=t.querySelector(".document-overlay");l.style.height=o.height+"px",l.style.width=o.width+"px",l.style.left="auto",t.style.width=o.width+"px",t.addEventListener("mouseenter",(()=>{e({duration:200,timing:e=>e,draw(e){l.classList.contains("fadeOut")&&l.classList.remove("fadeOut"),l.style.opacity="1",l.classList.add("animated","fadeIn")}})})),t.addEventListener("mouseleave",(()=>{e({duration:200,timing:e=>e,draw(e){l.style.opacity="0",l.classList.remove("fadeIn"),l.classList.add("fadeOut")}})}))})),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.getElementById("header"),o=document.querySelectorAll("#navigation, #offer, #benefits");let l=0;o.forEach((e=>{let t=e.offsetHeight;l+=t})),window.addEventListener("scroll",(()=>{window.pageYOffset>=l?e.style.opacity="1":e.style.opacity=""})),e.addEventListener("click",(()=>{t.scrollIntoView({block:"start",behavior:"smooth"})}))})(),(()=>{const e=document.createElement("div");document.querySelectorAll("form").forEach((t=>{t.addEventListener("submit",(o=>{var l,a;o.preventDefault(),l=t.querySelector("input[name=fio]"),a=t.querySelector("input[name=phone]"),(l.value.length<2||""===l.value||/[^а-яa-z]/gi.test(l.value)?(l.value="",l.setAttribute("placeholder","Минимум 2 символа, Используйте кириллицу и пробелы"),l.classList.add("error"),0):a.value.length>=16||/[^0-9+]/gi.test(a.value)||""===a.value?(a.value="",a.setAttribute("placeholder","Используйте цифры и +"),a.classList.add("error"),0):(l.setAttribute("placeholder","ваше имя"),l.classList.remove("error"),a.setAttribute("placeholder","ваш телефон"),a.classList.remove("error"),1))&&(t=>{const o=t.querySelector("input[name=fio]"),l=t.querySelector("input[name=phone]");fetch("http://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({fio:o.value,phone:l.value}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((()=>{o.value="",l.value="",e.textContent="Спасибо! Наш менеджер с вами свяжется!",t.append(e)}))})(t)}))}))})(),(()=>{const t=document.querySelector(".benefits-wrap");let o,l=document.querySelectorAll(".benefits__item"),a=[],n=0,s=0,c=0,r=0;const d=document.createElement("div");d.classList.add("slider-items-wrap"),l[l.length-1].classList.add("active"),l.forEach((e=>{e.style.margin="0 4% ";let t=e.offsetWidth;return a.push(t),n=Math.max(...a),d.prepend(e),n})),a.forEach((e=>(c+=e,c))),d.style.width=c+"px",t.append(d),setInterval((()=>{e({duration:2e3,timing:e=>e,draw(e){(()=>{let e,t;l=document.querySelectorAll(".benefits__item"),s+=n,l.forEach(((e,a)=>(e.classList.contains("active")&&(r=a,o=r++,e.classList.remove("active","cloned"),e.classList.add("prev"),t=e.cloneNode(!0),t.classList.add("cloned"),t.classList.remove("prev"),d.append(t)),console.log(l),r))),l[r].classList.add("active"),d.style.transform=`translate(-${s}px, 0)`,e=document.querySelectorAll(".prev"),e.length>=a.length+1&&e.forEach(((e,t)=>{if(t<=a.length-1){let t;e.remove(),t+=e.offsetWidth,s=t}}))})()}})}),20)})(),(()=>{const t=document.getElementById("calc").querySelectorAll("#calc-input, select"),o=document.getElementById("calc-type"),l=document.getElementById("calc-type-material"),a=document.getElementById("calc-input"),n=document.getElementById("calc-total");let s;t.forEach((t=>{t.addEventListener("change",(()=>{(()=>{let t,c,r,d=0;t=+o.options[o.selectedIndex].value,console.log(t),c=+l.options[l.selectedIndex].value,console.log(c),r=a.value,console.log(r),!o.options[o.selectedIndex].value&&!o.options[o.selectedIndex].value&&a.value<=0?n.value="":s=parseInt(t*c*r),d=n.value,setInterval((()=>{e({duration:1e3,timing:e=>e,draw:e=>d<s?(d++,n.value=d,d):d>s?(d--,n.value=d,d):void 0})}),20)})()}))})),console.log(s)})()})();